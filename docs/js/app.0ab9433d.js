(function(e){function o(o){for(var t,a,l=o[0],c=o[1],d=o[2],u=0,m=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&m.push(r[a][0]),r[a]=0;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]);s&&s(o);while(m.length)m.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,o=0;o<i.length;o++){for(var n=i[o],t=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(t=!1)}t&&(i.splice(o--,1),e=a(a.s=n[0]))}return e}var t={},r={app:0},i=[];function a(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,o,n){a.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,o){if(1&o&&(e=a(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var t in e)a.d(n,t,function(o){return e[o]}.bind(null,t));return n},a.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=o,l=l.slice();for(var d=0;d<l.length;d++)o(l[d]);var s=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,o,n){e.exports=n("cd49")},8774:function(e,o,n){"use strict";n("d544")},cd49:function(e,o,n){"use strict";n.r(o);n("e260"),n("e6cf"),n("cca6"),n("a79d");var t=n("7a23"),r={id:"app"},i={id:"MV",ref:"MV"};function a(e,o,n,a,l,c){return Object(t["d"])(),Object(t["b"])("div",r,[Object(t["c"])("canvas",i,null,512),Object(t["c"])("div",null,[Object(t["c"])("button",{value:"ミライアカリ",onClick:o[1]||(o[1]=function(e){return c.loadModel("model/MiraiAkari/MiraiAkari_v1.0.pmx")})},"ミライアカリ"),Object(t["c"])("button",{value:"ときのそら",onClick:o[2]||(o[2]=function(e){return c.loadModel("model/TokinoSora/ときのそら.pmx")})},"ときのそら")])])}n("b0c0");var l=n("5a89"),c=n("4721"),d=n("34ad"),s=n("aed8"),u={model:{model:{MiraiAkari:"model/MiraiAkari/MiraiAkari_v1.0.pmx",TokinoSora:"model/TokinoSora/ときのそら.pmx"},camera:{PerspectiveCamera:{fov:70,aspectX:document.body.clientWidth,aspectY:document.body.clientHeight,near:1,far:500},position:{x:0,y:20,z:20},lookAt:new l["zb"](0,10,0)},light:{DirectionLight:{color:"0xFFFFFF",intensity:1},position:{x:50,y:0,z:200}}}},m=new l["kb"],p=new l["bb"](u.model.camera.PerspectiveCamera.fov,u.model.camera.PerspectiveCamera.aspectX/u.model.camera.PerspectiveCamera.aspectY,u.model.camera.PerspectiveCamera.near,u.model.camera.PerspectiveCamera.far);p.position.set(u.model.camera.position.x,u.model.camera.position.y,u.model.camera.position.z),p.lookAt(u.model.camera.lookAt);var f=new l["k"](u.model.light.DirectionLight.color,u.model.light.DirectionLight.intensity);f.position.set(u.model.light.position.x,u.model.light.position.y,u.model.light.position.z);var h=new l["I"],g=new s["a"](h),v=(new d["a"](h),Object(t["g"])("data-v-1c78e414"));Object(t["f"])("data-v-1c78e414");var b={id:"controller"},y=Object(t["c"])("label",{for:"light_color"},"ライトの色",-1);Object(t["e"])();var w,k=v((function(e,o,n,r,i,a){return Object(t["d"])(),Object(t["b"])("div",b,[Object(t["c"])("form",null,[y,Object(t["c"])("input",{type:"color",value:"0xFFFFFF",id:"light_color",onChange:o[1]||(o[1]=function(){return e.setLightColor&&e.setLightColor.apply(e,arguments)})},null,32)])])})),j={name:"Controller",data:function(){return{}},methods:{Mirai_Akari:function(){var e=this;g.load(u.model.model.MiraiAkari,(function(o){w=o,console.log("model loaded"),e.$parent.model=w}),(function(e){console.log(Math.round(e.loaded/e.total*100)+"% loaded")}),(function(e){console.group("error! reason:"),console.log(e),console.groupEnd()}))},Tokino_Sora:function(){var e=this;g.load(u.model.model.TokinoSora,(function(o){w=o,console.log("model loaded"),e.$parent.model=w}),(function(e){console.log(Math.round(e.loaded/e.total*100)+"% loaded")}),(function(e){console.group("error! reason:"),console.log(e),console.groupEnd()}))}}};j.render=k,j.__scopeId="data-v-1c78e414";var O,M,x,A,C={name:"App",components:{},data:function(){return{scene:null,render:null,camera:null,light:null,model:null,Control:null,loader:g}},mounted:function(){M=m,x=p,A=f,M.add(A),this.scene=M,this.camera=x,this.render=new l["Bb"]({antialias:!0,canvas:this.$refs.MV}),this.render.setClearColor(15658734),this.control=new c["a"](x,this.render.domElement),this.control.target=u.model.camera.lookAt,this.control.enableDamping=!0,this.control.dampingFactor=.2,this.render.render(M,x),this.loadModel(u.model.model.MiraiAkari),this.animate()},methods:{animate:function(){if(this.resizeRendererToDisplaySize(this.render)){var e=this.render.domElement;this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix()}requestAnimationFrame(this.animate),this.control.update(),this.render.render(M,x)},resizeRendererToDisplaySize:function(e){var o=e.domElement,n=o.clientWidth,t=o.clientHeight,r=o.width!==n||o.height!==t;return r&&this.render.setSize(n,t,!1),r},setLightColor:function(e){this.scene.remove,this.light=new l["k"](e,1)},loadModel:function(e){var o=this;this.loader.load(e,(function(e){O=e,O.name="nowModel",console.log("model loaded"),o.model=O}),(function(e){console.log(Math.round(e.loaded/e.total*100)+"% loaded")}),(function(e){console.group("error! reason:"),console.log(e),console.groupEnd()}))}},watch:{model:function(){var e=M.getObjectByName("nowModel");M.remove(e),console.log(M),M.add(O),this.model=O,this.render.render(M,x),console.log(this.model)}}};n("8774");C.render=a;var F=C,P=n("9483");Object(P["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Object(t["a"])(F).mount("#app")},d544:function(e,o,n){}});
//# sourceMappingURL=app.0ab9433d.js.map